<html>

<head>
</head>

<body>
  <div>
    <h1>Main Page</h1>
    <a id="link" href="other">
      Go to Other Page
    </a>
  </div>

  <script>
    document.getElementById('link').addEventListener('click', (e) => {
      fetch("/log", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          type: "fetch"
        }),
        // keepalive: true
      });

      // const blob = new Blob([JSON.stringify({ type: "beacon" })], { type: 'application/json; charset=UTF-8' });
      // navigator.sendBeacon('/log', blob);
    });
  </script>
</body>

</html>
